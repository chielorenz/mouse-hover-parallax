<!DOCTYPE html>
<html>
	<head>
		<title>mouse multiple parallax</title>
		
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

		<style>
			/* parallax layers style */
			#parallax1{
				background: url('img/paint1.jpg') no-repeat center  center ;
				background-size: calc(100% + 50px);
				width: 750px;
				height: 600px;
				z-index: 1;
			}
			#parallax2{
				background: url('img/paint2.png') no-repeat center  center;
				background-size: calc(100% + 50px);
				width: 750px;
				height: 600px;
				z-index: 2;
			}
			#parallax3{
				background: url('img/paint3.png') no-repeat center  center;
				background-size: calc(100% + 50px);
				width: 750px;
				height: 600px;
				z-index: 3;
			}


			/* other style for the demo page*/
			body{
				margin: 0;
				padding: 0;
				background-color: #346387;
				font-family: 'Open Sans', sans-serif;
				background-image: url('img/gray.png');
				font-size: 20px;
			}
			header{
				width: 100%;
				text-align: center;
				overflow: hidden;
				color: #efefef;
			}
			header h1{
				font-size: 48px;
				font-weight: 400;
				margin: 20px;
				text-transform: uppercase;
			}
			header h3{
				font-size: 25px;
				font-weight: 400;
				margin: 20px;
			}
			.content{
				width: 70%;
				margin: 0 auto;
				color: #efefef;
			}
			.content h2{
				padding: 10px;
				border-bottom: 1px dotted #efefef;
				font-weight: 400;
			}
			.content ul{
				list-style: circle;
			}
			.wrapper{
				width: 750px;
				height: 600px;
				margin: 40px auto;
				-webkit-box-shadow: 0px 0px 30px 8px rgba(65, 65, 65, 0.5);
				-moz-box-shadow:    0px 0px 30px 8px rgba(65, 65, 65, 0.5);
				box-shadow:         0px 0px 30px 8px rgba(65, 65, 65, 0.5);
			}
			.entry{
				margin: 40px 0;
			}
			.entry a{
				width: 40%;
				float: left;
				margin: 60px 5% 80px 5%;
			}
			.entry a:link,
			.entry a:active,
			.entry a:visited{
				text-decoration: none;
				background-color: #efefef;
				color: #346387;
				padding: 8px 0;
				text-align: center;
			}
			.entry a:hover{
				-webkit-box-shadow: 0px 0px 30px 8px rgba(255, 255, 255, 0.2);
				-moz-box-shadow:    0px 0px 30px 8px rgba(255, 255, 255, 0.2);
				box-shadow:         0px 0px 30px 8px rgba(255, 255, 255, 0.2);
			}
			.code{
				margin: 10px;
				border: 1px solid #efefef;
				background-color: #414141;
				color: #efefef;
				overflow: scroll;
			}
			.code p{
				margin: 10px;
			}
		</style>
	</head>
	<body>
		<header>
			<h1>Mouse hover parallax</h1>
			<h3>three layers parallax effect on mouse hover</h3>
		</header>
		<div class="content">
			<h2>Demo:</h2>
			<p>Hover the image (sorry no touch) to see the effect:</p>
			<div class="wrapper">



				<!--parallax layers-->
				<div id="parallax1">
					<div id="parallax2">
						<div id="parallax3">
						</div>
					</div> 
				</div> 



			</div>
			<div class="entry">
				<h2>How it works:</h2>
				<div class="code">
<pre>
  /*HTML code*/

  &#60;div id="parallax1"&#62;
    &#60;div id="parallax2"&#62;
      &#60;div id="parallax3"&#62;
      &#60;/div&#62;
    &#60;/div&#62;
  &#60;/div&#62;
</pre>
				</div>
				<div class="code">
<pre>
  /*JavaScript code*/

  $("#parallax1").mousemove(function(e){
    parallax(this, e, 25);
  });

  $("#parallax2").mousemove(function(e){
    parallax(this, e, 75);
  });

  $("#parallax3").mousemove(function(e){
    parallax(this, e, 125);
  });
</pre>
				</div>
				<div class="code">
<pre>
  /*JavaScript code*/

  function parallax(obj, e, strength){
    var width = strength / $(obj).width();
    var height = strength / $(obj).height();
    var pageX = e.pageX - ($(window).width() / 2);
    var pageY = e.pageY - ($(window).height() / 2) - $(window).scrollTop();
    var newvalueX = width * pageX * -1 - 25;
    var newvalueY = height * pageY * -1 - 25;
    $(obj).css("background-position", newvalueX + "px " + newvalueY + "px");
  }</pre>
				</div>
			</div>
			<div class="entry">
				<h2>Download:</h2>
				<a href="https://github.com/chielorenz/mouseHoverParallax" title="project on gitjub">see on github</a>
				<a href="https://github.com/chielorenz/mouseHoverParallax/archive/master.zip" title="download zip">download zip</a>	
			</div>
		</div>

		<!-- jquery -->
		<script src="http://code.jquery.com/jquery-1.9.1.min.js" type="text/javascript"></script>

		<script>
			$(document).ready(function(){

				/*Call to parallax function for each layer*/
				$("#parallax1").mousemove(function(e){
					parallax(this, e, 25);
				});

				$("#parallax2").mousemove(function(e){
					parallax(this, e, 75);
				});

				$("#parallax3").mousemove(function(e){
					parallax(this, e, 125);
				});

				/*Parallax function*/
				function parallax(obj, e, strength){
					var width = strength / $(obj).width();
					var height = strength / $(obj).height();
					var pageX = e.pageX - ($(window).width() / 2);
					var pageY = e.pageY - ($(window).height() / 2) - $(window).scrollTop();
					var newvalueX = width * pageX * -1 - 25;
					var newvalueY = height * pageY * -1 - 25;
					$(obj).css("background-position", newvalueX + "px " + newvalueY + "px");
				}

			});
		</script>

	</body>
</html>
